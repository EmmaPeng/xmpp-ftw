<html>
    <head>
        <script type="text/javascript" src="/socket.io/socket.io.js"></script>
        <script type="text/javascript" src="/client.js"></script>
    </head>
    <body>
        <h1>Welcome to XMPP over websockets using JSON</h1>
      
        <h2>Authentication</h2>
 
        <h3>Login</h3>
        <pre>
        // Not a real account!
        socket.emit('xmpp.login', {jid: 'test@example.com', password: 'password'});
        </pre>

        <h2>Messaging</h2>

        <h3>Send a message</h3>
        <pre>
        socket.emit('xmpp.message.send', {to: 'other@example.com', message: 'Hello world'});
        </pre>

        <h3>Receive a chat message</h3>
        <pre>
        socket.on('xmpp.message.chat', function(data) {
            console.log('Got message from ' + data.from);
            console.log('Content was: ' + data.content);
        });
        </pre>

        <h2>Presence</h2>

        <h3>Set presence</h3>
        <pre>
        socket.emit('xmpp.presence', {status: 'online', message: 'I'm using this script!'});
        </pre>

        <h3>Receive presence</h3>
        <pre>
        socket.on('xmpp.presence', function(data) { console.log(data); } );
        </pre>
    </body>
</html
